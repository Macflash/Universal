(this.webpackJsonpuniversal=this.webpackJsonpuniversal||[]).push([[0],{17:function(e,t,n){},18:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),a=n.n(i),s=n(9),c=n.n(s),o=(n(17),n(3)),u=(n(18),n(5)),l=n(6),d=n(11),h=n(10),b=n(2),j=n(4),v=1e9;function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Math.round(e*t)/t}var g=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(b.a)(this,e),this.value=t,this.icon_=n,this.onChange=function(e){}}return Object(j.a)(e,[{key:"Register",value:function(e){this.onChange=e}},{key:"Display",value:function(){return m(this.value)+this.icon}},{key:"Set",value:function(e){this.value=e,this.onChange(this.value)}},{key:"Add",value:function(e){this.value+=e,this.onChange(this.value)}},{key:"Subtract",value:function(e){this.value-=e,this.onChange(this.value)}},{key:"current",get:function(){return this.value}},{key:"icon",get:function(){return this.icon_}}]),e}(),p=1/12,f=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1980,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\ud83d\udcc5";return Object(b.a)(this,n),t.call(this,e,r)}return Object(j.a)(n,[{key:"AsDate",value:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\ud83d\udcc5",n=Math.floor(e),r=e-n,i=Math.floor(12*r);f.Months[i];return"".concat(n,"-").concat(y(i+1)," ").concat(t)}(this.current,this.icon)}},{key:"AddMonth",value:function(){this.Add(p)}},{key:"AddYear",value:function(){this.Add(1)}},{key:"date",get:function(){return this.AsDate()}}]),n}(g);function y(e){return e<10?"0"+e:""+e}f.Months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var x=new f(2e3),O=new g(0,"\ud83e\uddea"),k=new g(1,"\ud83d\udcb2"),P=new g(.1,"\ud83d\udcc8");setInterval((function(){x.AddMonth(),function(){var e,t=Object(l.a)(_.planets);try{var n=function(){var t=e.value;t.incomingProbes=t.incomingProbes.filter((function(e){return!(e.arrivalYear<=x.current)||(O.Add(1),t.availableProbes.push(e),!1)}))};for(t.s();!(e=t.n()).done;)n()}catch(r){t.e(r)}finally{t.f()}}(),V.update(x.current),G.update(x.current),X.update(x.current),K.update(x.current),k.Add(P.current)}),2e3);var S=function(){function e(t,n,r,i){Object(b.a)(this,e),this.id=t,this.startYear=n,this.endYear=r,this.isComplete=!1,this.callbacks=[],i&&this.addOnComplete(i)}return Object(j.a)(e,[{key:"getProgress",value:function(e){return this.isComplete?1:(e-this.startYear)/(this.endYear-this.startYear)}},{key:"addOnComplete",value:function(e){this.callbacks.push(e)}},{key:"complete",value:function(e){return!!this.isComplete||e>=this.endYear&&!this.isComplete&&(this.isComplete=!0,this.callbacks.forEach((function(e){return e()})),!0)}},{key:"percent",get:function(){return m(100*this.getProgress(x.current),100)}},{key:"percentWidth",get:function(){return"".concat(this.percent,"%")}}]),e}(),Y=function(){function e(t,n){Object(b.a)(this,e),this.limitPerId=t,this.limitPerQueue=n,this.queue=[],this.onChange=function(){}}return Object(j.a)(e,[{key:"Register",value:function(e){this.onChange=e}},{key:"push",value:function(e){for(var t=0;t<this.queue.length&&this.queue[t].endYear<e.endYear;)t++;return this.queue.splice(t,0,e),this.onChange(),e}},{key:"update",value:function(e){for(var t=!1;this.queue.length&&this.queue[0].endYear<=e;){var n=this.queue.shift();null===n||void 0===n||n.complete(e),t=!0}t&&this.onChange()}},{key:"count",value:function(e){return this.queue.filter((function(t){return t.id===e})).length}},{key:"get",value:function(e){return this.queue.filter((function(t){return t.id===e}))}},{key:"length",get:function(){return this.queue.length}}]),e}(),C="grey",M="2px solid ".concat(C),w=function(e){var t=e.title,n=e.children,i=e.unlocked,a=void 0===i||i;return Object(r.jsxs)("div",{style:{borderBottom:M,marginBottom:5,marginTop:5,paddingBottom:5},children:[Object(r.jsx)(z,{title:t}),a?n:"Locked"]})};function z(e){return e.title&&Object(r.jsx)("div",{style:{fontSize:e.size?"".concat(100*e.size,"%"):"125%",marginBottom:5},children:e.title})||null}var R=function(e){var t=e.children;return Object(r.jsx)("div",{style:{padding:5,margin:5,border:M},children:t})},U=function(e){var t=!e.money||k.current>=e.money,n=!e.research||O.current>=e.research,i=t&&n;return Object(r.jsxs)(R,{children:[Object(r.jsx)(z,{title:e.name,size:1.1}),Object(r.jsx)(z,{title:e.description,size:.9}),Object(r.jsx)(T,{name:"Cost",stat:e.money,unit:k.icon,color:t?void 0:"red"}),Object(r.jsx)(T,{name:"Research cost",stat:e.research,unit:O.icon,color:n?void 0:"red"}),Object(r.jsx)(T,{name:"Build time",stat:e.time,unit:" year(s)"+x.icon}),e.children,e.blocked?e.blocked:Object(r.jsx)("button",{style:{cursor:"pointer"},disabled:!i||!!e.blocked,onClick:function(){var t;k.current>=(e.money||0)&&O.current>=(e.research||0)&&(k.Subtract(e.money||0),O.Subtract(e.research||0),null===(t=e.onBuy)||void 0===t||t.call(e))},children:e.buyText||"Buy"})]})},q=function(e){e.task.percent;return Object(r.jsx)("div",{style:{border:M,backgroundColor:C,margin:5},children:Object(r.jsx)("div",{style:{backgroundColor:"green",height:20,width:e.task.percentWidth}})})};function B(e){var t=void 0;return e.queue.limitPerQueue&&e.queue.length>=e.queue.limitPerQueue&&(t="Queue is full."),e.queue.limitPerId&&e.queue.count(e.name)>=e.queue.limitPerId&&(t="In progress..."),Object(r.jsx)(U,Object(u.a)(Object(u.a)({},e),{},{blocked:t,onBuy:function(){return e.queue.push(new S(e.name,x.current,x.current+e.time,e.onComplete))},children:e.queue.get(e.name).map((function(e,t){return Object(r.jsx)(q,{task:e},t)}))}))}function A(e){var t=e.obj,n=e.size,i=void 0===n?100:n,a=e.blur,s=void 0===a?0:a;return Object(r.jsxs)("div",{style:{position:"relative"},children:[Object(r.jsx)("div",{style:{margin:10,backgroundColor:t.img?void 0:t.color,borderRadius:"100%",height:i,width:i,filter:s?"blur(".concat(s,"px)"):void 0},children:t.img?Object(r.jsx)("img",{src:t.img,height:i,width:i}):null}),s?Object(r.jsx)("div",{style:{position:"absolute",top:"calc(50% - 20px)",left:"calc(50% - 15px)",fontSize:30},children:"\u2754"}):null]})}function D(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(26*Math.random()))}function I(){return"Planet ".concat(D()).concat(D(),"_").concat(Math.round(1e3*Math.random()),"_").concat(D)}function T(e){var t=e.stat;return e.stat&&!isNaN(e.stat)&&(t=m(Number(e.stat),e.round||100)),e.stat&&Object(r.jsxs)("div",{style:{color:e.color},children:[e.name,": ",t,e.unit]})||null}function F(e){var t=e.planet,n=0,i=Object(u.a)({},t);return t.research&&"none"!=t.research.picture||(delete i.img,n=5),Object(r.jsx)(A,{obj:i,blur:n})}function E(e){var t=e.name,n=e.unit,i=e.stat,a=e.studied,s=void 0===a||a;return Object(r.jsx)(T,{name:t,unit:n,stat:s?i:"?"})}function J(e){var t,n,i,s,c,u,l=e.planet,d=a.a.useState(l.name||I()),h=Object(o.a)(d,1)[0];return l.research&&l.research.discovered||(h="Undiscovered object"),Object(r.jsxs)(R,{children:[Object(r.jsx)(z,{title:h,size:1.1}),Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(r.jsx)(F,{planet:l}),Object(r.jsxs)("div",{children:[Object(r.jsx)(E,{name:"Mass",unit:"kg",stat:l.mass,studied:!!(null===(t=l.research)||void 0===t?void 0:t.studied)&&"none"!=(null===(n=l.research)||void 0===n?void 0:n.studied)}),Object(r.jsx)(E,{name:"Diameter",unit:"km",stat:l.diameter,studied:!!(null===(i=l.research)||void 0===i?void 0:i.studied)}),Object(r.jsx)(E,{name:"Type",stat:l.type,studied:!!(null===(s=l.research)||void 0===s?void 0:s.studied)})]})]}),(null===(c=l.research)||void 0===c?void 0:c.discovered)||"none"===(null===(u=l.research)||void 0===u?void 0:u.studied)?"discovered":Object(r.jsx)(B,{name:"Study ".concat(l.name||h),description:"Use your telescope to study the unkown object and learn more about it. Earns 1 ".concat("\ud83e\uddea"),queue:X,time:.25,buyText:"Study",onComplete:function(){l.research=l.research||{},l.research.discovered=!0,l.research.studied="telescope",O.Add(1)}})]})}function L(e){var t,n=0,i=0,a=Object(l.a)(e.star.planets);try{for(a.s();!(t=a.n()).done;){var s=t.value;n=Math.max(n,s.distance),i=Math.max(i,s.diameter||1)}}catch(c){a.e(c)}finally{a.f()}return console.log("max diamater",i),Object(r.jsxs)("div",{style:{borderBottom:"2px solid grey",padding:10,display:"flex",flexDirection:"row"},children:[Object(r.jsx)(A,{obj:e.star,size:80}),Object(r.jsx)("div",{style:{position:"relative",flex:"auto",marginRight:10},children:e.star.planets.map((function(t,a){return Object(r.jsx)(N,{index:a+1,maxIndex:e.star.planets.length,size:50,planet:t,maxDistance:n,maxDiameter:i})}))})]})}function N(e){var t=e.planet,n=e.index,i=e.maxIndex,a=e.maxDistance,s=e.maxDiameter,c=e.size,o=void 0===c?50:c,u=(s?o*(t.diameter||1)/s:o)+10,l=(100*Math.pow(t.distance,1)/Math.pow(a,1)+100*n/i)/2;return Object(r.jsx)("div",{style:{position:"absolute",top:"calc(50% - ".concat(.5*u,"px)"),left:"calc(".concat(l,"% - ").concat(u,"px)"),backgroundColor:t.color,borderRadius:"50%",height:u,width:u}})}var W=n.p+"static/media/mercuryimg.d800f48b.png",Q={name:"Earth",img:n.p+"static/media/earthimg.eeca67e5.png",color:"#18F",age:4*v,distance:1496e5,type:"rocky",diameter:12742,mass:5972e21,percentUtilization:.5,fullyUtilized:!1,availableProbes:[],incomingProbes:[],moons:[{name:"Moon",img:n.p+"static/media/moonimg.d38055fa.png",color:"grey",age:4*v,distance:384400,type:"rocky",diameter:3474,mass:7348e19,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]}],research:{discovered:!0,studied:"human",picture:"none",temperature:"human",soil:"human",water:"human",atmosphere:"human"}},_={name:"Sun",color:"yellow",age:45e8,distance:0,type:"sunlike",death:75e8,mass:1.989e30,diameter:1391e3,incomingProbes:[],planets:[{name:"Mercury",img:W,color:"grey",age:4*v,distance:61157e3,type:"rocky",diameter:4879,mass:3285e20,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Venus",color:"bisque",age:4*v,distance:10844e4,type:"venuslike",diameter:12104,mass:4867e21,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},Q,{name:"Mars",color:"red",age:4*v,distance:22816e4,type:"rocky",diameter:6779,mass:639e21,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Jupiter",color:"orange",age:4*v,distance:76251e4,type:"gasgiant",diameter:139820,mass:1898e24,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Saturn",color:"tan",age:4*v,distance:92657e4,type:"gasgiant",diameter:116360,mass:5683e23,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Uranus",color:"lightblue",age:4*v,distance:29575e5,type:"gasgiant",diameter:50724,mass:8681e22,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Neptune",color:"blue",age:4*v,distance:44759e5,type:"gasgiant",diameter:49244,mass:1024e23,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]}]};function H(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{position:"relative"},children:Object(r.jsx)(L,{star:e.star})}),Object(r.jsx)(J,{planet:e.star}),e.star.planets.map((function(e){return Object(r.jsx)(J,{planet:e})}))]})}var V=new Y(1,1),G=new Y(1),K=new Y,X=new Y(1,1);function Z(e){return Object(r.jsxs)(w,{title:"Earth",children:[Object(r.jsx)(J,{planet:Q}),Object(r.jsx)("div",{style:{borderBottom:"2px solid grey"}}),Object(r.jsx)($,{}),Object(r.jsx)(ee,{}),Object(r.jsx)(te,{})]})}function $(e){return Object(r.jsxs)(w,{title:"Inventory",children:["Probes available: ",Q.availableProbes.length," \ud83d\udef0\ufe0f"]})}function ee(e){return Object(r.jsx)(w,{title:"Manufacture",children:Object(r.jsx)(B,{name:"Space probe",description:"Build a probe that you can launch to other planets to perform research.",money:1,time:1,queue:V,onComplete:function(){Q.availableProbes.push({manufactureDate:x.current})}})})}function te(e){return Object(r.jsxs)(w,{title:"Research",children:[Object(r.jsx)(B,{name:"Raise funds",description:"Raise ".concat(1," billion \ud83d\udcb2"),research:1,time:.5,queue:G,onComplete:function(){k.Add(1)},buyText:"Start"}),Object(r.jsx)(B,{name:"Increase budget",description:"Increases the monthly budget by ".concat(.1," billion \ud83d\udcb2"),money:1,research:1,time:.5,queue:G,onComplete:function(){P.Add(.1)}})]})}var ne="grey",re="2px solid ".concat(ne);function ie(e){var t=a.a.useState(e.startTab||0),n=Object(o.a)(t,2),i=n[0],s=n[1],c=Object(r.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:e.tabs.map((function(e,t){return Object(r.jsxs)("div",{onClick:function(){return!e.locked&&s(t)},style:{border:re,backgroundColor:t===i?ne:void 0,marginRight:10,padding:5,marginBottom:-2,cursor:"pointer"},children:[e.locked?"\ud83d\udd12 ":null,e.title]},t)}))});return Object(r.jsxs)("div",{children:[c,Object(r.jsx)("div",{style:{borderTop:re},children:e.tabs[i].content})]})}var ae=function(){function e(t,n,r){Object(b.a)(this,e),this.totalStars=t,this.startYear=n,this.techtree=r,this.currentYear=this.startYear,this.probeProducingStars=1,this.runningProbes=[],this.launchedProbes=0,this.activeProbes=0}return Object(j.a)(e,[{key:"run100Years",value:function(){var e=this;this.currentYear+=100,this.runningProbes=this.runningProbes.filter((function(t){return!t.complete(e.currentYear)})),this.probeProducingStars=Math.min(this.totalStars,this.probeProducingStars);var t=this.probeProducingStars*this.techtree.probesPer100Years.get();this.activeProbes+=t,this.launchedProbes+=t,this.runningProbes.push(new S("send ai probes",this.currentYear,this.currentYear+this.techtree.interstarYears.get()+this.techtree.yearsToCreateAProbeFromDiscovery.get(),(function(){e.activeProbes-=t;var n=Math.floor(e.techtree.successRate.get()*t);if(t<1e4){n=0;for(var r=0;r<t;r++)Math.random()<e.techtree.successRate.get()&&n++}e.probeProducingStars+=n})))}},{key:"unexploredPlanets",get:function(){return this.totalStars-this.probeProducingStars}}]),e}(),se=function(){function e(t){Object(b.a)(this,e),this.researchLevels=t,this.level=0}return Object(j.a)(e,[{key:"get",value:function(){return this.researchLevels[this.level]}},{key:"increase",value:function(){this.isMaxed||this.level++}},{key:"isMaxed",get:function(){return this.level>=this.researchLevels.length-1}}]),e}(),ce=new ae(1e11,2e3,new function e(){Object(b.a)(this,e),this.yearsToCreateAProbeFromDiscovery=new se([1e3,500,250,100]),this.probesPer100Years=new se([1,2,5,10,25,50,100,1e3]),this.interstarYears=new se([1e4,5e3,1e3,150]),this.successRate=new se([.05,.1,33,.5,.7]),this.researchSent=new se([1.1,1.25,1.5,2,5,10]),this.research=0});var oe=function(){var e=a.a.useState(x.current),t=Object(o.a)(e,2),n=(t[0],t[1]);x.Register(n);var i=a.a.useState(O.current),s=Object(o.a)(i,2),c=s[0],u=s[1];O.Register(u);var l=a.a.useState(k.current),d=Object(o.a)(l,2),h=d[0],b=d[1];k.Register(b);var j=a.a.useState(P.current),v=Object(o.a)(j,2),g=v[0],p=v[1];P.Register(p);var f=a.a.useState({}),y=Object(o.a)(f,2),S=(y[0],y[1]),Y=function(){S({})};G.Register(Y),V.Register(Y),K.Register(Y),X.Register(Y);var C=function(){ce.run100Years(),ce.run100Years(),ce.run100Years(),ce.run100Years(),ce.run100Years(),ce.run100Years(),ce.run100Years(),ce.run100Years(),ce.run100Years(),ce.run100Years(),n(ce.currentYear)},M=Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:["Year ",ce.currentYear]}),Object(r.jsx)("div",{children:"Milky Way"}),Object(r.jsxs)("div",{children:["Total Stars: ",ce.totalStars]}),Object(r.jsxs)("div",{children:["Untouched Stars: ",ce.unexploredPlanets]}),Object(r.jsxs)("div",{children:["Probe producing Stars: ",ce.probeProducingStars]}),Object(r.jsxs)("div",{children:["% of MilkyWay producing: ",Math.floor(1e5*ce.probeProducingStars/ce.totalStars)/1e3,"%"]}),Object(r.jsxs)("div",{children:["Probes launched: ",ce.launchedProbes]}),Object(r.jsxs)("div",{children:["Active probes: ",ce.activeProbes]}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{onClick:function(){ce.run100Years(),n(ce.currentYear)},children:"Run 100 years"}),Object(r.jsx)("button",{onClick:C,children:"Run 1000 years"}),Object(r.jsx)("button",{onClick:function(){C(),C(),C(),C(),C(),C(),C(),C(),C(),C(),n(ce.currentYear)},children:"Run 10000 years"})]})]});return Object(r.jsxs)("div",{style:{backgroundColor:"#333",minHeight:"100vh",color:"white",padding:10,fontFamily:"Courier New, monospace"},children:[Object(r.jsx)("div",{style:{fontSize:"calc(10px + 2vmin)",marginBottom:10},children:"Universal"}),Object(r.jsxs)("div",{style:{marginBottom:5},children:["Year: ",x.date]}),Object(r.jsxs)("div",{style:{marginBottom:5},children:["Research: ",c,"\ud83e\uddea"]}),Object(r.jsxs)("div",{style:{marginBottom:5},children:["Money: ",m(h)," billion \ud83d\udcb2"]}),Object(r.jsxs)("div",{style:{marginBottom:5},children:["Budget: ",m(g)," billion \ud83d\udcc8"]}),Object(r.jsx)(ie,{tabs:[{title:"Earth",content:Object(r.jsx)(Z,{})},{title:"Solar System",content:Object(r.jsx)(H,{star:_})},{title:"Milky Way",content:M,locked:!0}]})]})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,20)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),a(e),s(e)}))};c.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(oe,{})}),document.getElementById("root")),ue()}},[[19,1,2]]]);
//# sourceMappingURL=main.a1c76538.chunk.js.map