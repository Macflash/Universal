(this.webpackJsonpuniversal=this.webpackJsonpuniversal||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),a=n.n(i),s=n(10),c=n.n(s),o=(n(19),n(4)),u=(n(20),n(12)),l=n(7),d=n(8),h=n(13),b=n(11),v=n(2),j=n(3),m=1e9;function g(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Math.round(e*t)/t}var p=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(v.a)(this,e),this.value=t,this.icon_=n,this.onChange=function(e){}}return Object(j.a)(e,[{key:"Register",value:function(e){this.onChange=e}},{key:"Display",value:function(){return g(this.value)+this.icon}},{key:"Set",value:function(e){this.value=e,this.onChange(this.value)}},{key:"Add",value:function(e){this.value+=e,this.onChange(this.value)}},{key:"Subtract",value:function(e){this.value-=e,this.onChange(this.value)}},{key:"current",get:function(){return this.value}},{key:"icon",get:function(){return this.icon_}}]),e}(),f=1/12,y=function(e){Object(h.a)(n,e);var t=Object(b.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1980,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\ud83d\udcc5";return Object(v.a)(this,n),t.call(this,e,r)}return Object(j.a)(n,[{key:"AsDate",value:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\ud83d\udcc5",n=Math.floor(e),r=e-n,i=Math.floor(12*r);y.Months[i];return"".concat(n,"-").concat(x(i+1)," ").concat(t)}(this.current,this.icon)}},{key:"AddMonth",value:function(){this.Add(f)}},{key:"AddYear",value:function(){this.Add(1)}},{key:"date",get:function(){return this.AsDate()}}]),n}(p);function x(e){return e<10?"0"+e:""+e}y.Months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var O=new y(2e3),k=new p(0,"\ud83e\uddea"),P=new p(1,"\ud83d\udcb2"),S=new p(.1,"\ud83d\udcc8");setInterval((function(){O.AddMonth(),function(){var e,t=Object(d.a)(K.planets);try{var n=function(){var t=e.value;t.incomingProbes=t.incomingProbes.filter((function(e){return!(e.arrivalYear<=O.current)||(k.Add(1),t.availableProbes.push(e),!1)}))};for(t.s();!(e=t.n()).done;)n()}catch(r){t.e(r)}finally{t.f()}}(),Z.update(O.current),$.update(O.current),te.update(O.current),ee.update(O.current),P.Add(S.current)}),2e3);var C=function(){function e(t,n,r,i){Object(v.a)(this,e),this.id=t,this.startYear=n,this.endYear=r,this.isComplete=!1,this.callbacks=[],i&&this.addOnComplete(i)}return Object(j.a)(e,[{key:"getProgress",value:function(e){return this.isComplete?1:(e-this.startYear)/(this.endYear-this.startYear)}},{key:"addOnComplete",value:function(e){this.callbacks.push(e)}},{key:"complete",value:function(e){return!!this.isComplete||e>=this.endYear&&!this.isComplete&&(this.isComplete=!0,this.callbacks.forEach((function(e){return e()})),!0)}},{key:"percent",get:function(){return g(100*this.getProgress(O.current),100)}},{key:"percentWidth",get:function(){return"".concat(this.percent,"%")}}]),e}(),Y=function(){function e(t,n){Object(v.a)(this,e),this.limitPerId=t,this.limitPerQueue=n,this.queue=[],this.onChange=function(){}}return Object(j.a)(e,[{key:"Register",value:function(e){this.onChange=e}},{key:"push",value:function(e){for(var t=0;t<this.queue.length&&this.queue[t].endYear<e.endYear;)t++;return this.queue.splice(t,0,e),this.onChange(),e}},{key:"update",value:function(e){for(var t=!1;this.queue.length&&this.queue[0].endYear<=e;){var n=this.queue.shift();null===n||void 0===n||n.complete(e),t=!0}t&&this.onChange()}},{key:"count",value:function(e){return this.queue.filter((function(t){return t.id===e})).length}},{key:"get",value:function(e){return this.queue.filter((function(t){return t.id===e}))}},{key:"length",get:function(){return this.queue.length}}]),e}(),w="grey",z="2px solid ".concat(w),M=function(e){var t=e.title,n=e.children,i=e.unlocked,a=void 0===i||i;return Object(r.jsxs)("div",{style:{borderBottom:z,marginBottom:5,marginTop:5,paddingBottom:5},children:[Object(r.jsx)(R,{title:t}),a?n:"Locked"]})};function R(e){return e.title&&Object(r.jsx)("div",{style:{fontSize:e.size?"".concat(100*e.size,"%"):"125%",marginBottom:5},children:e.title})||null}var q=function(e){var t=e.children;return Object(r.jsx)("div",{style:{padding:5,margin:5,border:z},children:t})},U=function(e){var t=!e.money||P.current>=e.money,n=!e.research||k.current>=e.research,i=t&&n;return Object(r.jsxs)(q,{children:[Object(r.jsx)(R,{title:e.name,size:1.1}),Object(r.jsx)(R,{title:e.description,size:.9}),Object(r.jsx)(T,{name:"Cost",stat:e.money,unit:P.icon,color:t?void 0:"red"}),Object(r.jsx)(T,{name:"Research cost",stat:e.research,unit:k.icon,color:n?void 0:"red"}),Object(r.jsx)(T,{name:"Build time",stat:e.time,unit:" year(s)"+O.icon}),e.children,e.blocked?e.blocked:Object(r.jsx)("button",{style:{cursor:"pointer"},disabled:!i||!!e.blocked,onClick:function(){var t;P.current>=(e.money||0)&&k.current>=(e.research||0)&&(P.Subtract(e.money||0),k.Subtract(e.research||0),null===(t=e.onBuy)||void 0===t||t.call(e))},children:e.buyText||"Buy"})]})},B=function(e){e.task.percent;return Object(r.jsx)("div",{style:{border:z,backgroundColor:w,margin:5},children:Object(r.jsx)("div",{style:{backgroundColor:"green",height:20,width:e.task.percentWidth}})})};function A(e){var t=void 0;return e.queue.limitPerQueue&&e.queue.length>=e.queue.limitPerQueue&&(t="Queue is full."),e.queue.limitPerId&&e.queue.count(e.name)>=e.queue.limitPerId&&(t="In progress..."),Object(r.jsx)(U,Object(l.a)(Object(l.a)({},e),{},{blocked:t,onBuy:function(){return e.queue.push(new C(e.name,O.current,O.current+e.time,e.onComplete))},children:e.queue.get(e.name).map((function(e,t){return Object(r.jsx)(B,{task:e},t)}))}))}function D(e){var t=e.obj,n=e.size,i=void 0===n?100:n,a=e.blur,s=void 0===a?0:a;return Object(r.jsxs)("div",{style:{position:"relative"},children:[Object(r.jsx)("div",{style:{margin:10,backgroundColor:t.img?void 0:t.color,borderRadius:"100%",height:i,width:i,filter:s?"blur(".concat(s,"px)"):void 0},children:t.img?Object(r.jsx)("img",{src:t.img,height:i,width:i}):null}),s?Object(r.jsx)("div",{style:{position:"absolute",top:"calc(50% - 20px)",left:"calc(50% - 15px)",fontSize:30},children:"\u2754"}):null]})}function T(e){var t=e.stat;return e.stat&&!isNaN(e.stat)&&(t=g(Number(e.stat),e.round||100)),e.stat&&Object(r.jsxs)("div",{style:{color:e.color},children:[e.name,": ",t,e.unit]})||null}function I(e){var t=e.planet,n=0,i=Object(l.a)({},t);return t.research&&"none"!=t.research.picture||(delete i.img,n=5),Object(r.jsx)(D,{obj:i,blur:n})}function F(e){var t=e.name,n=e.unit,i=e.stat,a=e.studied,s=void 0===a||a;return Object(r.jsx)(T,{name:t,unit:n,stat:s?i:"?"})}function J(e){var t,n,i,a,s,c,o=e.planet,u=o.name;return o.research&&o.research.discovered||(u="Undiscovered object"),Object(r.jsxs)(q,{children:[Object(r.jsx)(R,{title:u,size:1.1}),Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(r.jsx)(I,{planet:o}),Object(r.jsxs)("div",{children:[Object(r.jsx)(F,{name:"Mass",unit:"kg",stat:o.mass,studied:!!(null===(t=o.research)||void 0===t?void 0:t.studied)&&"none"!=(null===(n=o.research)||void 0===n?void 0:n.studied)}),Object(r.jsx)(F,{name:"Diameter",unit:"km",stat:o.diameter,studied:!!(null===(i=o.research)||void 0===i?void 0:i.studied)}),Object(r.jsx)(F,{name:"Type",stat:o.type,studied:!!(null===(a=o.research)||void 0===a?void 0:a.studied)})]})]}),(null===(s=o.research)||void 0===s?void 0:s.discovered)||"none"===(null===(c=o.research)||void 0===c?void 0:c.studied)?"discovered":Object(r.jsx)(A,{name:"Study ".concat(o.name||u),description:"Use your telescope to study the unkown object and learn more about it. Earns 1 ".concat("\ud83e\uddea"),queue:te,time:.25,buyText:"Study",onComplete:function(){o.research=o.research||{},o.research.discovered=!0,o.research.studied="telescope",k.Add(1)}})]})}function L(e){var t,n=0,i=0,a=Object(d.a)(e.star.planets);try{for(a.s();!(t=a.n()).done;){var s=t.value;n=Math.max(n,s.distance),i=Math.max(i,s.diameter||1)}}catch(c){a.e(c)}finally{a.f()}return console.log("max diamater",i),Object(r.jsxs)("div",{style:{borderBottom:"2px solid grey",padding:10,display:"flex",flexDirection:"row"},children:[Object(r.jsx)(D,{obj:e.star,size:80}),Object(r.jsx)("div",{style:{position:"relative",flex:"auto",marginRight:10},children:e.star.planets.map((function(t,a){return Object(r.jsx)(N,{index:a+1,maxIndex:e.star.planets.length,size:50,planet:t,maxDistance:n,maxDiameter:i})}))})]})}function N(e){var t=e.planet,n=e.index,i=e.maxIndex,a=e.maxDistance,s=e.maxDiameter,c=e.size,o=void 0===c?50:c,u=(s?o*(t.diameter||1)/s:o)+10,l=(100*Math.pow(t.distance,1)/Math.pow(a,1)+100*n/i)/2;return Object(r.jsx)("div",{style:{position:"absolute",top:"calc(50% - ".concat(.5*u,"px)"),left:"calc(".concat(l,"% - ").concat(u,"px)"),backgroundColor:t.color,borderRadius:"50%",height:u,width:u}})}var E=n.p+"static/media/mercuryimg.d800f48b.png",W=n.p+"static/media/earthimg.eeca67e5.png",Q=n.p+"static/media/moonimg.d38055fa.png",G="grey",_="2px solid ".concat(G);function H(e){var t=a.a.useState(e.startTab||0),n=Object(o.a)(t,2),i=n[0],s=n[1],c=Object(r.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:e.tabs.map((function(e,t){return Object(r.jsxs)("div",{onClick:function(){return!e.locked&&s(t)},style:{border:_,backgroundColor:t===i?G:void 0,marginRight:10,padding:5,marginBottom:-2,cursor:"pointer"},children:[e.locked?"\ud83d\udd12 ":null,e.title]},t)}))});return Object(r.jsxs)("div",{children:[c,Object(r.jsx)("div",{style:{borderTop:_},children:e.tabs[i].content})]})}var V={name:"Earth",img:W,color:"#18F",age:4*m,distance:1496e5,type:"rocky",diameter:12742,mass:5972e21,percentUtilization:.5,fullyUtilized:!1,availableProbes:[],incomingProbes:[],moons:[{name:"Moon",img:Q,color:"grey",age:4*m,distance:384400,type:"rocky",diameter:3474,mass:7348e19,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]}],research:{discovered:!0,studied:"human",picture:"none",temperature:"human",soil:"human",water:"human",atmosphere:"human"}},K={name:"Sun",color:"yellow",age:45e8,distance:0,type:"sunlike",death:75e8,mass:1.989e30,diameter:1391e3,incomingProbes:[],planets:[{name:"Mercury",img:E,color:"grey",age:4*m,distance:61157e3,type:"rocky",diameter:4879,mass:3285e20,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Venus",color:"bisque",age:4*m,distance:10844e4,type:"venuslike",diameter:12104,mass:4867e21,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},V,{name:"Mars",color:"red",age:4*m,distance:22816e4,type:"rocky",diameter:6779,mass:639e21,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Jupiter",color:"orange",age:4*m,distance:76251e4,type:"gasgiant",diameter:139820,mass:1898e24,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Saturn",color:"tan",age:4*m,distance:92657e4,type:"gasgiant",diameter:116360,mass:5683e23,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Uranus",color:"lightblue",age:4*m,distance:29575e5,type:"gasgiant",diameter:50724,mass:8681e22,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Neptune",color:"blue",age:4*m,distance:44759e5,type:"gasgiant",diameter:49244,mass:1024e23,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]}]};function X(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{position:"relative"},children:Object(r.jsx)(L,{star:e.star})}),Object(r.jsx)(H,{tabs:[{title:"Sun",content:Object(r.jsx)(J,{planet:e.star})}].concat(Object(u.a)(e.star.planets.map((function(e){return{title:e.name||"Unknown object",content:Object(r.jsx)(J,{planet:e})}}))))})]})}var Z=new Y(1,1),$=new Y(1),ee=new Y,te=new Y(1,1);function ne(e){var t;return Object(r.jsxs)(M,{title:"Inventory",children:[Object(r.jsxs)("div",{children:["Ground telescopes available: ",(null===(t=V.availableTelescopes)||void 0===t?void 0:t.filter((function(e){return"ground"==e.type})).length)||0," \ud83d\udd2d"]}),Object(r.jsxs)("div",{children:["Probes available: ",V.availableProbes.length," \ud83d\udef0\ufe0f"]})]})}function re(e){var t;return Object(r.jsx)(M,{title:"Manufacture",children:(null===(t=V.availableTelescopes)||void 0===t?void 0:t.filter((function(e){return"ground"==e.type})).length)?Object(r.jsx)(A,{name:"Space probe",description:"Build a probe that you can launch to other planets to perform research.",money:1,time:1,queue:Z,onComplete:function(){V.availableProbes.push({manufactureDate:O.current})}}):Object(r.jsx)(A,{name:"Ground telescope",description:"Build a telescope on Earth to allow you to look at distant objects.",money:1,time:2*f,queue:Z,onComplete:function(){V.availableTelescopes=V.availableTelescopes||[],V.availableTelescopes.push({manufactureDate:O.current,condition:1,type:"ground",quality:"blurry"})}})})}function ie(e){return Object(r.jsxs)(M,{title:"Research",children:[Object(r.jsx)(A,{name:"Raise funds",description:"Raise ".concat(1," billion \ud83d\udcb2"),research:1,time:.5,queue:$,onComplete:function(){P.Add(1)},buyText:"Start"}),Object(r.jsx)(A,{name:"Increase budget",description:"Increases the monthly budget by ".concat(.1," billion \ud83d\udcb2"),money:1,research:1,time:.5,queue:$,onComplete:function(){S.Add(.1)}})]})}var ae=function(){function e(t,n,r){Object(v.a)(this,e),this.totalStars=t,this.startYear=n,this.techtree=r,this.currentYear=this.startYear,this.probeProducingStars=1,this.runningProbes=[],this.launchedProbes=0,this.activeProbes=0}return Object(j.a)(e,[{key:"run100Years",value:function(){var e=this;this.currentYear+=100,this.runningProbes=this.runningProbes.filter((function(t){return!t.complete(e.currentYear)})),this.probeProducingStars=Math.min(this.totalStars,this.probeProducingStars);var t=this.probeProducingStars*this.techtree.probesPer100Years.get();this.activeProbes+=t,this.launchedProbes+=t,this.runningProbes.push(new C("send ai probes",this.currentYear,this.currentYear+this.techtree.interstarYears.get()+this.techtree.yearsToCreateAProbeFromDiscovery.get(),(function(){e.activeProbes-=t;var n=Math.floor(e.techtree.successRate.get()*t);if(t<1e4){n=0;for(var r=0;r<t;r++)Math.random()<e.techtree.successRate.get()&&n++}e.probeProducingStars+=n})))}},{key:"unexploredPlanets",get:function(){return this.totalStars-this.probeProducingStars}}]),e}(),se=function(){function e(t){Object(v.a)(this,e),this.researchLevels=t,this.level=0}return Object(j.a)(e,[{key:"get",value:function(){return this.researchLevels[this.level]}},{key:"increase",value:function(){this.isMaxed||this.level++}},{key:"isMaxed",get:function(){return this.level>=this.researchLevels.length-1}}]),e}(),ce=new ae(1e11,2e3,new function e(){Object(v.a)(this,e),this.yearsToCreateAProbeFromDiscovery=new se([1e3,500,250,100]),this.probesPer100Years=new se([1,2,5,10,25,50,100,1e3]),this.interstarYears=new se([1e4,5e3,1e3,150]),this.successRate=new se([.05,.1,33,.5,.7]),this.researchSent=new se([1.1,1.25,1.5,2,5,10]),this.research=0});var oe=function(){var e=a.a.useState(O.current),t=Object(o.a)(e,2),n=(t[0],t[1]);O.Register(n);var i=a.a.useState(k.current),s=Object(o.a)(i,2),c=s[0],u=s[1];k.Register(u);var l=a.a.useState(P.current),d=Object(o.a)(l,2),h=d[0],b=d[1];P.Register(b);var v=a.a.useState(S.current),j=Object(o.a)(v,2),m=j[0],p=j[1];S.Register(p);var f=a.a.useState({}),y=Object(o.a)(f,2),x=(y[0],y[1]),C=function(){x({})};$.Register(C),Z.Register(C),ee.Register(C),te.Register(C);var Y=function(){ce.run100Years(),ce.run100Years(),ce.run100Years(),ce.run100Years(),ce.run100Years(),ce.run100Years(),ce.run100Years(),ce.run100Years(),ce.run100Years(),ce.run100Years(),n(ce.currentYear)},w=Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:["Year ",ce.currentYear]}),Object(r.jsx)("div",{children:"Milky Way"}),Object(r.jsxs)("div",{children:["Total Stars: ",ce.totalStars]}),Object(r.jsxs)("div",{children:["Untouched Stars: ",ce.unexploredPlanets]}),Object(r.jsxs)("div",{children:["Probe producing Stars: ",ce.probeProducingStars]}),Object(r.jsxs)("div",{children:["% of MilkyWay producing: ",Math.floor(1e5*ce.probeProducingStars/ce.totalStars)/1e3,"%"]}),Object(r.jsxs)("div",{children:["Probes launched: ",ce.launchedProbes]}),Object(r.jsxs)("div",{children:["Active probes: ",ce.activeProbes]}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{onClick:function(){ce.run100Years(),n(ce.currentYear)},children:"Run 100 years"}),Object(r.jsx)("button",{onClick:Y,children:"Run 1000 years"}),Object(r.jsx)("button",{onClick:function(){Y(),Y(),Y(),Y(),Y(),Y(),Y(),Y(),Y(),Y(),n(ce.currentYear)},children:"Run 10000 years"})]})]});return Object(r.jsxs)("div",{style:{backgroundColor:"#333",minHeight:"100vh",color:"white",padding:10,fontFamily:"Courier New, monospace"},children:[Object(r.jsx)("div",{style:{fontSize:"calc(10px + 2vmin)",marginBottom:10},children:"Universal"}),Object(r.jsxs)("div",{style:{marginBottom:5},children:["Year: ",O.date]}),Object(r.jsxs)("div",{style:{marginBottom:5},children:["Research: ",c,"\ud83e\uddea"]}),Object(r.jsxs)("div",{style:{marginBottom:5},children:["Money: ",g(h)," billion \ud83d\udcb2"]}),Object(r.jsxs)("div",{style:{marginBottom:5},children:["Budget: ",g(m)," billion \ud83d\udcc8"]}),Object(r.jsx)(H,{tabs:[{title:"Space center",content:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ne,{}),Object(r.jsx)(re,{})]})},{title:"Research center",content:Object(r.jsx)(ie,{})},{title:"Solar System",content:Object(r.jsx)(X,{star:K})},{title:"Milky Way",content:w,locked:!0}]})]})},ue=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),a(e),s(e)}))};c.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(oe,{})}),document.getElementById("root")),ue()}},[[21,1,2]]]);
//# sourceMappingURL=main.cdf0e95b.chunk.js.map