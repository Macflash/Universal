(this.webpackJsonpuniversal=this.webpackJsonpuniversal||[]).push([[0],{19:function(e,t,n){},20:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var r=n(0),i=n(1),a=n.n(i),s=n(10),c=n.n(s),o=(n(19),n(4)),u=(n(20),"grey"),l="2px solid ".concat(u);function d(e){var t=a.a.useState(e.startTab||0),n=Object(o.a)(t,2),i=n[0],s=n[1],c=Object(r.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:e.tabs.filter((function(e){return!e.requires||e.requires.canBuy||e.requires.unlocked})).map((function(e,t){return Object(r.jsxs)("div",{onClick:function(){var n;return(null==e.requires||(null===(n=e.requires)||void 0===n?void 0:n.unlocked))&&s(t)},style:{border:l,backgroundColor:t===i?u:void 0,marginRight:10,padding:5,marginBottom:-2,cursor:"pointer"},children:[e.requires&&!e.requires.unlocked?"\ud83d\udd12 ":null,e.title]},t)}))});return Object(r.jsxs)("div",{children:[c,Object(r.jsx)("div",{style:{borderTop:l},children:e.tabs[i].content})]})}var h=n(2),b=n(3),v=n(8),j=n(13),m=n(11),g=1e9;function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return Math.round(e*t)/t}var f=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";Object(h.a)(this,e),this.value=t,this.icon_=n,this.onChange=function(e){}}return Object(b.a)(e,[{key:"Register",value:function(e){this.onChange=e}},{key:"Display",value:function(){return p(this.value)+this.icon}},{key:"Set",value:function(e){this.value=e,this.onChange(this.value)}},{key:"Add",value:function(e){this.value+=e,this.onChange(this.value)}},{key:"Subtract",value:function(e){this.value-=e,this.onChange(this.value)}},{key:"current",get:function(){return this.value}},{key:"icon",get:function(){return this.icon_}}]),e}(),y=1/12,O=function(e){Object(j.a)(n,e);var t=Object(m.a)(n);function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1980,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\ud83d\udcc5";return Object(h.a)(this,n),t.call(this,e,r)}return Object(b.a)(n,[{key:"AsDate",value:function(){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\ud83d\udcc5",n=Math.floor(e),r=e-n,i=Math.floor(12*r);O.Months[i];return"".concat(n,"-").concat(x(i+1)," ").concat(t)}(this.current,this.icon)}},{key:"AddMonth",value:function(){this.Add(y)}},{key:"AddYear",value:function(){this.Add(1)}},{key:"date",get:function(){return this.AsDate()}}]),n}(f);function x(e){return e<10?"0"+e:""+e}O.Months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];var k=n(12),P=n(7),S="grey",w="2px solid ".concat(S),C=function(e){var t=e.title,n=e.children,i=e.unlocked,a=void 0===i||i;return Object(r.jsxs)("div",{style:{borderBottom:w,marginBottom:5,marginTop:5,paddingBottom:5},children:[Object(r.jsx)(Y,{title:t}),a?n:"Locked"]})};function Y(e){return e.title&&Object(r.jsx)("div",{style:{fontSize:e.size?"".concat(100*e.size,"%"):"125%",marginBottom:5},children:e.title})||null}var q=function(e){var t=e.children;return Object(r.jsx)("div",{style:{padding:5,margin:5,border:w},children:t})},z=function(e){var t=!e.money||H.current>=e.money,n=!e.research||G.current>=e.research,i=t&&n;return Object(r.jsxs)(q,{children:[Object(r.jsx)(Y,{title:e.name,size:1.1}),Object(r.jsx)(Y,{title:e.description,size:.9}),Object(r.jsx)(B,{name:"Cost",stat:e.money,unit:H.icon,color:t?void 0:"red"}),Object(r.jsx)(B,{name:"Research cost",stat:e.research,unit:G.icon,color:n?void 0:"red"}),Object(r.jsx)(B,{name:"Build time",stat:e.time,unit:" year(s)"+Q.icon}),e.children,e.blocked?e.blocked:Object(r.jsx)("button",{style:{cursor:"pointer"},disabled:!i||!!e.blocked,onClick:function(){var t;H.current>=(e.money||0)&&G.current>=(e.research||0)&&(H.Subtract(e.money||0),G.Subtract(e.research||0),null===(t=e.onBuy)||void 0===t||t.call(e))},children:e.buyText||"Buy"})]})},M=function(e){e.task.percent;return Object(r.jsx)("div",{style:{border:w,backgroundColor:S,margin:5},children:Object(r.jsx)("div",{style:{backgroundColor:"green",height:20,width:e.task.percentWidth}})})};function U(e){var t=void 0;return e.queue.limitPerQueue&&e.queue.length>=e.queue.limitPerQueue&&(t="Queue is full."),e.queue.limitPerId&&e.queue.count(e.name)>=e.queue.limitPerId&&(t="In progress..."),Object(r.jsx)(z,Object(P.a)(Object(P.a)({},e),{},{blocked:t,onBuy:function(){return e.queue.push(new V(e.name,Q.current,Q.current+e.time,e.onComplete))},children:e.queue.get(e.name).map((function(e,t){return Object(r.jsx)(M,{task:e},t)}))}))}function R(e){var t=e.obj,n=e.size,i=void 0===n?100:n,a=e.blur,s=void 0===a?0:a;return Object(r.jsxs)("div",{style:{position:"relative"},children:[Object(r.jsx)("div",{style:{margin:10,backgroundColor:t.img?void 0:t.color,borderRadius:"100%",height:i,width:i,filter:s?"blur(".concat(s,"px)"):void 0},children:t.img?Object(r.jsx)("img",{src:t.img,height:i,width:i}):null}),s?Object(r.jsx)("div",{style:{position:"absolute",top:"calc(50% - 20px)",left:"calc(50% - 15px)",fontSize:30},children:"\u2754"}):null]})}function B(e){var t=e.stat;return e.stat&&!isNaN(e.stat)&&(t=p(Number(e.stat),e.round||100)),e.stat&&Object(r.jsxs)("div",{style:{color:e.color},children:[e.name,": ",t,e.unit]})||null}function A(e){var t=e.planet,n=0,i=Object(P.a)({},t);return t.research&&"none"!=t.research.picture||(delete i.img,n=5),Object(r.jsx)(R,{obj:i,blur:n})}function T(e){var t=e.name,n=e.unit,i=e.stat,a=e.studied,s=void 0===a||a;return Object(r.jsx)(B,{name:t,unit:n,stat:s?i:"?"})}function D(e){var t,n,i,a,s,c,o=e.planet,u=o.name;return o.research&&o.research.discovered||(u="Undiscovered object"),Object(r.jsxs)(q,{children:[Object(r.jsx)(Y,{title:u,size:1.1}),Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[Object(r.jsx)(A,{planet:o}),Object(r.jsxs)("div",{children:[Object(r.jsx)(T,{name:"Mass",unit:"kg",stat:o.mass,studied:!!(null===(t=o.research)||void 0===t?void 0:t.studied)&&"none"!=(null===(n=o.research)||void 0===n?void 0:n.studied)}),Object(r.jsx)(T,{name:"Diameter",unit:"km",stat:o.diameter,studied:!!(null===(i=o.research)||void 0===i?void 0:i.studied)}),Object(r.jsx)(T,{name:"Type",stat:o.type,studied:!!(null===(a=o.research)||void 0===a?void 0:a.studied)})]})]}),(null===(s=o.research)||void 0===s?void 0:s.discovered)||"none"===(null===(c=o.research)||void 0===c?void 0:c.studied)?"discovered":Object(r.jsx)(U,{name:"Study ".concat(o.name||u),description:"Use your telescope to study the unkown object and learn more about it. Earns 1 ".concat(W),queue:ee,time:.25,buyText:"Study",onComplete:function(){o.research=o.research||{},o.research.discovered=!0,o.research.studied="telescope",G.Add(1)}})]})}function I(e){var t,n=0,i=0,a=Object(v.a)(e.star.planets);try{for(a.s();!(t=a.n()).done;){var s=t.value;n=Math.max(n,s.distance),i=Math.max(i,s.diameter||1)}}catch(c){a.e(c)}finally{a.f()}return console.log("max diamater",i),Object(r.jsxs)("div",{style:{borderBottom:"2px solid grey",padding:10,display:"flex",flexDirection:"row"},children:[Object(r.jsx)(R,{obj:e.star,size:80}),Object(r.jsx)("div",{style:{position:"relative",flex:"auto",marginRight:10},children:e.star.planets.map((function(t,a){return Object(r.jsx)(F,{index:a+1,maxIndex:e.star.planets.length,size:50,planet:t,maxDistance:n,maxDiameter:i})}))})]})}function F(e){var t=e.planet,n=e.index,i=e.maxIndex,a=e.maxDistance,s=e.maxDiameter,c=e.size,o=void 0===c?50:c,u=(s?o*(t.diameter||1)/s:o)+10,l=(100*Math.pow(t.distance,1)/Math.pow(a,1)+100*n/i)/2;return Object(r.jsx)("div",{style:{position:"absolute",top:"calc(50% - ".concat(.5*u,"px)"),left:"calc(".concat(l,"% - ").concat(u,"px)"),backgroundColor:t.color,borderRadius:"50%",height:u,width:u}})}var L=n.p+"static/media/mercuryimg.d800f48b.png",J={name:"Earth",img:n.p+"static/media/earthimg.eeca67e5.png",color:"#18F",age:4*g,distance:1496e5,type:"rocky",diameter:12742,mass:5972e21,percentUtilization:.5,fullyUtilized:!1,availableProbes:[],incomingProbes:[],moons:[{name:"Moon",img:n.p+"static/media/moonimg.d38055fa.png",color:"grey",age:4*g,distance:384400,type:"rocky",diameter:3474,mass:7348e19,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]}],research:{discovered:!0,studied:"human",picture:"none",temperature:"human",soil:"human",water:"human",atmosphere:"human"}},N={name:"Sun",color:"yellow",age:45e8,distance:0,type:"sunlike",death:75e8,mass:1.989e30,diameter:1391e3,incomingProbes:[],planets:[{name:"Mercury",img:L,color:"grey",age:4*g,distance:61157e3,type:"rocky",diameter:4879,mass:3285e20,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Venus",color:"bisque",age:4*g,distance:10844e4,type:"venuslike",diameter:12104,mass:4867e21,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},J,{name:"Mars",color:"red",age:4*g,distance:22816e4,type:"rocky",diameter:6779,mass:639e21,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Jupiter",color:"orange",age:4*g,distance:76251e4,type:"gasgiant",diameter:139820,mass:1898e24,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Saturn",color:"tan",age:4*g,distance:92657e4,type:"gasgiant",diameter:116360,mass:5683e23,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Uranus",color:"lightblue",age:4*g,distance:29575e5,type:"gasgiant",diameter:50724,mass:8681e22,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]},{name:"Neptune",color:"blue",age:4*g,distance:44759e5,type:"gasgiant",diameter:49244,mass:1024e23,percentUtilization:0,fullyUtilized:!1,availableProbes:[],incomingProbes:[]}]};function E(e){return Object(r.jsxs)("div",{children:[Object(r.jsx)("div",{style:{position:"relative"},children:Object(r.jsx)(I,{star:e.star})}),Object(r.jsx)(d,{tabs:[{title:"Sun",content:Object(r.jsx)(D,{planet:e.star})}].concat(Object(k.a)(e.star.planets.map((function(e){var t;return{title:e.name&&(null===(t=e.research)||void 0===t?void 0:t.discovered)?e.name:"?",content:Object(r.jsx)("div",{children:Object(r.jsx)(D,{planet:e})})}}))))})]})}var W="\ud83e\uddea",Q=new O(2e3),G=new f(0,"\ud83e\uddea"),H=new f(1,"\ud83d\udcb2"),_=new f(.1,"\ud83d\udcc8");setInterval((function(){Q.AddMonth(),function(){var e,t=Object(v.a)(N.planets);try{var n=function(){var t=e.value;t.incomingProbes=t.incomingProbes.filter((function(e){return!(e.arrivalYear<=Q.current)||(G.Add(1),t.availableProbes.push(e),!1)}))};for(t.s();!(e=t.n()).done;)n()}catch(r){t.e(r)}finally{t.f()}}(),X.update(Q.current),Z.update(Q.current),ee.update(Q.current),$.update(Q.current),H.Add(_.current)}),2e3);var V=function(){function e(t,n,r,i){Object(h.a)(this,e),this.id=t,this.startYear=n,this.endYear=r,this.isComplete=!1,this.callbacks=[],i&&this.addOnComplete(i)}return Object(b.a)(e,[{key:"getProgress",value:function(e){return this.isComplete?1:(e-this.startYear)/(this.endYear-this.startYear)}},{key:"addOnComplete",value:function(e){this.callbacks.push(e)}},{key:"complete",value:function(e){return!!this.isComplete||e>=this.endYear&&!this.isComplete&&(this.isComplete=!0,this.callbacks.forEach((function(e){return e()})),!0)}},{key:"percent",get:function(){return p(100*this.getProgress(Q.current),100)}},{key:"percentWidth",get:function(){return"".concat(this.percent,"%")}}]),e}(),K=function(){function e(t,n){Object(h.a)(this,e),this.limitPerId=t,this.limitPerQueue=n,this.queue=[],this.onChange=function(){}}return Object(b.a)(e,[{key:"Register",value:function(e){this.onChange=e}},{key:"push",value:function(e){for(var t=0;t<this.queue.length&&this.queue[t].endYear<e.endYear;)t++;return this.queue.splice(t,0,e),this.onChange(),e}},{key:"update",value:function(e){for(var t=!1;this.queue.length&&this.queue[0].endYear<=e;){var n=this.queue.shift();null===n||void 0===n||n.complete(e),t=!0}t&&this.onChange()}},{key:"count",value:function(e){return this.queue.filter((function(t){return t.id===e})).length}},{key:"get",value:function(e){return this.queue.filter((function(t){return t.id===e}))}},{key:"length",get:function(){return this.queue.length}}]),e}(),X=new K(1,1),Z=new K(1),$=new K,ee=new K(1,1),te=function(){function e(t,n,r){Object(h.a)(this,e),this.totalStars=t,this.startYear=n,this.techtree=r,this.currentYear=this.startYear,this.probeProducingStars=1,this.runningProbes=[],this.launchedProbes=0,this.activeProbes=0}return Object(b.a)(e,[{key:"run100Years",value:function(){var e=this;this.currentYear+=100,this.runningProbes=this.runningProbes.filter((function(t){return!t.complete(e.currentYear)})),this.probeProducingStars=Math.min(this.totalStars,this.probeProducingStars);var t=this.probeProducingStars*this.techtree.probesPer100Years.get();this.activeProbes+=t,this.launchedProbes+=t,this.runningProbes.push(new V("send ai probes",this.currentYear,this.currentYear+this.techtree.interstarYears.get()+this.techtree.yearsToCreateAProbeFromDiscovery.get(),(function(){e.activeProbes-=t;var n=Math.floor(e.techtree.successRate.get()*t);if(t<1e4){n=0;for(var r=0;r<t;r++)Math.random()<e.techtree.successRate.get()&&n++}e.probeProducingStars+=n})))}},{key:"unexploredPlanets",get:function(){return this.totalStars-this.probeProducingStars}}]),e}(),ne=function(){function e(t){Object(h.a)(this,e),this.researchLevels=t,this.level=0}return Object(b.a)(e,[{key:"get",value:function(){return this.researchLevels[this.level]}},{key:"increase",value:function(){this.isMaxed||this.level++}},{key:"isMaxed",get:function(){return this.level>=this.researchLevels.length-1}}]),e}(),re=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(Object(h.a)(this,e),this.id=t,this.researchCost=n,this.dependsOn=i,this.researchTime=a,e.All.find((function(e){return e.id===r.id})))throw"Hey! Duplicate tech!"+t;e.All.push(this)}return Object(b.a)(e,null,[{key:"IsUnlocked",value:function(t){return!!e.Unlocked.find((function(e){return e.id===t.id}))}}]),Object(b.a)(e,[{key:"unlock",value:function(){this.canBuy&&!this.unlocked&&e.Unlocked.push(this)}},{key:"canBuy",get:function(){return this.dependsOn.filter((function(e){return e.unlocked})).length==this.dependsOn.length}},{key:"unlocked",get:function(){return e.IsUnlocked(this)}}]),e}();re.All=[],re.Unlocked=[];var ie=new re("Telescope",0,[],.5),ae=new re("Rocketry",5),se=new re("Probes",1,[ie,ae]),ce=(new re("Lander",10,[se]),new re("Space Telescope",10,[ie,ae]),new re("Interstellar travel",1e3,[ae,ie]));function oe(e){var t;return Object(r.jsxs)(C,{title:"Inventory",children:[Object(r.jsxs)("div",{children:["Ground telescopes available: ",(null===(t=J.availableTelescopes)||void 0===t?void 0:t.filter((function(e){return"ground"==e.type})).length)||0," \ud83d\udd2d"]}),Object(r.jsxs)("div",{children:["Probes available: ",J.availableProbes.length," \ud83d\udef0\ufe0f"]})]})}function ue(e){var t;return Object(r.jsx)(C,{title:"Manufacture",children:(null===(t=J.availableTelescopes)||void 0===t?void 0:t.filter((function(e){return"ground"==e.type})).length)?Object(r.jsx)(U,{name:"Space probe",description:"Build a probe that you can launch to other planets to perform research.",money:1,time:1,queue:X,onComplete:function(){J.availableProbes.push({manufactureDate:Q.current})}}):Object(r.jsx)(U,{name:"Ground telescope",description:"Build a telescope on Earth to allow you to look at distant objects.",money:1,time:2*y,queue:X,onComplete:function(){J.availableTelescopes=J.availableTelescopes||[],J.availableTelescopes.push({manufactureDate:Q.current,condition:1,type:"ground",quality:"blurry"})}})})}function le(e){r.Fragment,"Raise ".concat(1," billion \ud83d\udcb2"),"Increases the monthly budget by ".concat(.1," billion \ud83d\udcb2");return Object(r.jsx)(C,{title:"Research",children:re.All.filter((function(e){return e.canBuy&&!e.unlocked})).map((function(e){return Object(r.jsx)(U,{name:e.id,onComplete:function(){e.unlock()},queue:Z,time:e.researchTime,research:e.researchCost})}))})}var de=new te(1e11,2e3,new function e(){Object(h.a)(this,e),this.yearsToCreateAProbeFromDiscovery=new ne([1e3,500,250,100]),this.probesPer100Years=new ne([1,2,5,10,25,50,100,1e3]),this.interstarYears=new ne([1e4,5e3,1e3,150]),this.successRate=new ne([.05,.1,33,.5,.7]),this.researchSent=new ne([1.1,1.25,1.5,2,5,10]),this.research=0});var he=function(){var e=a.a.useState(Q.current),t=Object(o.a)(e,2),n=(t[0],t[1]);Q.Register(n);var i=a.a.useState(G.current),s=Object(o.a)(i,2),c=s[0],u=s[1];G.Register(u);var l=a.a.useState(H.current),h=Object(o.a)(l,2),b=h[0],v=h[1];H.Register(v);var j=a.a.useState(_.current),m=Object(o.a)(j,2),g=m[0],f=m[1];_.Register(f);var y=a.a.useState({}),O=Object(o.a)(y,2),x=(O[0],O[1]),k=function(){x({})};Z.Register(k),X.Register(k),$.Register(k),ee.Register(k);var P=function(){de.run100Years(),de.run100Years(),de.run100Years(),de.run100Years(),de.run100Years(),de.run100Years(),de.run100Years(),de.run100Years(),de.run100Years(),de.run100Years(),n(de.currentYear)},S=Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)("div",{children:["Year ",de.currentYear]}),Object(r.jsx)("div",{children:"Milky Way"}),Object(r.jsxs)("div",{children:["Total Stars: ",de.totalStars]}),Object(r.jsxs)("div",{children:["Untouched Stars: ",de.unexploredPlanets]}),Object(r.jsxs)("div",{children:["Probe producing Stars: ",de.probeProducingStars]}),Object(r.jsxs)("div",{children:["% of MilkyWay producing: ",Math.floor(1e5*de.probeProducingStars/de.totalStars)/1e3,"%"]}),Object(r.jsxs)("div",{children:["Probes launched: ",de.launchedProbes]}),Object(r.jsxs)("div",{children:["Active probes: ",de.activeProbes]}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsxs)("div",{children:[Object(r.jsx)("button",{onClick:function(){de.run100Years(),n(de.currentYear)},children:"Run 100 years"}),Object(r.jsx)("button",{onClick:P,children:"Run 1000 years"}),Object(r.jsx)("button",{onClick:function(){P(),P(),P(),P(),P(),P(),P(),P(),P(),P(),n(de.currentYear)},children:"Run 10000 years"})]})]});return Object(r.jsxs)("div",{style:{backgroundColor:"#333",minHeight:"100vh",color:"white",padding:10,fontFamily:"Courier New, monospace"},children:[Object(r.jsx)("div",{style:{fontSize:"calc(10px + 2vmin)",marginBottom:10},children:"Universal"}),Object(r.jsxs)("div",{style:{marginBottom:5},children:["Year: ",Q.date]}),Object(r.jsxs)("div",{style:{marginBottom:5},children:["Research: ",c,"\ud83e\uddea"]}),Object(r.jsxs)("div",{style:{marginBottom:5},children:["Money: ",p(b)," billion \ud83d\udcb2"]}),Object(r.jsxs)("div",{style:{marginBottom:5},children:["Budget: ",p(g)," billion \ud83d\udcc8"]}),Object(r.jsx)(d,{tabs:[{title:"Research",content:Object(r.jsx)(le,{})},{title:"Build",content:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(oe,{}),Object(r.jsx)(ue,{})]}),requires:ie},{title:"Solar System",content:Object(r.jsx)(E,{star:N}),requires:ie},{title:"Milky Way",content:S,requires:ce}]})]})},be=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,22)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),i(e),a(e),s(e)}))};c.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(he,{})}),document.getElementById("root")),be()}},[[21,1,2]]]);
//# sourceMappingURL=main.ab73e7a1.chunk.js.map